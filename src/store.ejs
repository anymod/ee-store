<!doctype html>
<% if (!!bootstrap.product) { %>
  <html ng-app="eeStore" lang="en" itemscope itemtype="http://schema.org/Product">
<% } else { %>
  <html ng-app="eeStore" lang="en">
<% } %>

<head>
  <meta charset="utf-8">
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="robots" content="index,follow">

  <title><%= bootstrap.title %> </title>
  <% if (!!bootstrap.description) { %>
    <meta name="description" content="<%= bootstrap.description %>">
  <% } %>

  <base href="/">

  <% if (!!bootstrap.images) { %>
    <% for(var i=0; i<bootstrap.images.length; i++) {%>
      <meta itemprop="image" content="<%= bootstrap.images[i] %>">
      <meta name="twitter:image" content="<%= bootstrap.images[i] %>">
      <meta property="og:image" content="<%= bootstrap.images[i] %>" />
    <% } %>
  <% } %>

  <% if (!!bootstrap.product) { %>
    <!-- Schema.org markup for Google+ -->
    <meta itemprop="name" content="<%= bootstrap.product.title %>">
    <meta itemprop="description" content="<%= bootstrap.product.content %>">

    <!-- Twitter Card data -->
    <meta name="twitter:card" content="summary">
    <!-- <meta name="twitter:site" content="@publisher_handle"> -->
    <!-- <meta name="twitter:creator" content="@author_handle"> -->
    <meta name="twitter:title" content="<%= bootstrap.product.title %>">
    <meta name="twitter:description" content="<%= bootstrap.product.content %>">

    <!-- Open Graph data -->
    <meta property="og:title" content="<%= bootstrap.product.title %>" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="<%= bootstrap.url %>" />
    <meta property="og:description" content="<%= bootstrap.product.content %>" />
    <meta property="og:site_name" content="<%= bootstrap.site_name %>" />
    <meta property="og:price:amount" content="<%= parseInt(bootstrap.product.selling_price) / 100 %>" />
    <meta property="og:price:currency" content="USD" />
  <% } %>

  <% if (!!bootstrap.collection) { %>
    <!-- Schema.org markup for Google+ -->
    <meta itemprop="name" content="<%= bootstrap.collection %>">
    <!-- <meta itemprop="description" content="<%= bootstrap.content %>"> -->

    <!-- Twitter Card data -->
    <meta name="twitter:card" content="summary">
    <!-- <meta name="twitter:site" content="@publisher_handle"> -->
    <!-- <meta name="twitter:creator" content="@author_handle"> -->
    <meta name="twitter:title" content="<%= bootstrap.title %>">
    <!-- <meta name="twitter:description" content="<%= bootstrap.content %>"> -->

    <!-- Open Graph data -->
    <meta property="og:title" content="<%= bootstrap.title %>" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="<%= bootstrap.url %>" />
    <!-- <meta property="og:description" content="<%= bootstrap.content %>" /> -->
    <meta property="og:site_name" content="<%= bootstrap.site_name %>" />
  <% } %>

  <!-- Do not edit inside of build block; it is auto-generated -->
  <!-- build:css -->
  <link rel="stylesheet" href="ee-shared/stylesheets/ee.css">
  <!-- endbuild -->

  <%- bootstrap.code %>

  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', "<%= bootstrap.tracking %>", 'auto');
    ga('require', 'displayfeatures');
    ga('require', 'linkid', 'linkid.js');
  </script>

</head>

<body id="body-top" ng-mouseleave="mouseleave()">
  <% if (!!bootstrap.h1) { %>
    <h1 class="position-fixed overflow-hidden height-0" style="top: -5000px;"><%= bootstrap.h1 %></h1>
  <% } %>

  <div ui-view="header" id="ee-header" class="position-fixed" style="top: 0; z-index: 2000;"></div>
  <div ui-view="top"    id="ee-top-view" class="position-relative"></div>
  <div ui-view="middle" id="ee-middle-view" class="position-relative"></div>
  <div ui-view="bottom" id="ee-bottom-view" class="position-relative"></div>
  <div ui-view="footer" id="ee-footer" class="position-relative"></div>

  <!-- Do not edit inside of build block; it is auto-generated -->
  <!-- build:js -->
  <script src="bower_components/jquery/dist/jquery.js"></script>
  <script src="bower_components/angular/angular.js"></script>
  <script src="bower_components/angular-sanitize/angular-sanitize.js"></script>
  <script src="bower_components/angular-cookies/angular-cookies.js"></script>
  <script src="bower_components/angular-bootstrap/ui-bootstrap.js"></script>
  <script src="bower_components/angular-bootstrap/ui-bootstrap-tpls.js"></script>
  <script src="bower_components/angular-ui-router/release/angular-ui-router.js"></script>
  <script src="bower_components/angulartics/src/angulartics.js"></script>
  <script src="bower_components/angulartics/src/angulartics-ga.js"></script>
  <script src="bower_components/zoom.js/dist/zoom.js"></script>
  <script src="bower_components/keen-js/dist/keen.js"></script>
  <script src="bower_components/bootstrap/js/transition.js"></script>
  <script src="js/ee-shared/core/core.module.js"></script>
  <script src="js/ee-shared/core/constants.js"></script>
  <script src="js/ee-shared/core/filters.js"></script>
  <script src="js/ee-shared/core/config.js"></script>
  <script src="js/ee-shared/core/run.js"></script>
  <script src="js/ee-shared/core/svc.modal.js"></script>
  <script src="js/store/store.index.js"></script>
  <script src="js/store/core/core.module.js"></script>
  <script src="js/store/core/run.js"></script>
  <script src="js/store/core/store.config.js"></script>
  <script src="js/store/core/core.route.js"></script>
  <script src="js/store/core/svc.back.js"></script>
  <script src="js/store/core/svc.cart.js"></script>
  <script src="js/store/store.controller.js"></script>
  <script src="js/store/collection.controller.js"></script>
  <script src="js/store/product.controller.js"></script>
  <script src="js/store/cart.controller.js"></script>
  <script src="js/store/categories/categories.module.js"></script>
  <script src="js/store/categories/categories.route.js"></script>
  <script src="js/store/categories/category.controller.js"></script>
  <script src="js/store/search/search.module.js"></script>
  <script src="js/store/search/search.route.js"></script>
  <script src="js/store/search/search.controller.js"></script>
  <script src="js/store/modal/modal.controller.js"></script>
  <script src="js/ee-shared/components/ee-button-add-to-cart.js"></script>
  <script src="js/ee-shared/components/ee-product-for-store.js"></script>
  <script src="js/ee-shared/components/ee-product-card.js"></script>
  <script src="js/ee-shared/components/ee-collection-nav.js"></script>
  <script src="js/ee-shared/components/ee-storefront-header.js"></script>
  <script src="js/ee-shared/components/ee-storefront-logo.js"></script>
  <script src="js/ee-shared/components/ee-storefront-brand.js"></script>
  <script src="js/ee-shared/components/ee-product-images.js"></script>
  <script src="js/ee-shared/components/ee-empty-message.js"></script>
  <!-- endbuild -->

</body>

<script>
  angular.module("app.core").constant("eeBootstrap", <%- bootstrap.stringified %>);
</script>

</html>
