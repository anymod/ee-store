<!doctype html>
<% if (!!bootstrap.product) { %>
  <html ng-app="eeStore" lang="en" itemscope itemtype="http://schema.org/Product">
<% } else { %>
  <html ng-app="eeStore" lang="en">
<% } %>

<head>
  <meta charset="utf-8">
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="robots" content="index,follow">

  <title><%= bootstrap.title %> </title>
  <% if (!!bootstrap.description) { %>
    <meta name="description" content="<%= bootstrap.description %>">
  <% } %>

  <base href="/">

  <% if (!!bootstrap.images) { %>
    <% for(var i=0; i<bootstrap.images.length; i++) {%>
      <meta itemprop="image" content="<%= bootstrap.images[i] %>">
      <meta name="twitter:image" content="<%= bootstrap.images[i] %>">
      <meta property="og:image" content="<%= bootstrap.images[i] %>" />
    <% } %>
  <% } %>

  <% if (!!bootstrap.product) { %>
    <!-- Schema.org markup for Google+ -->
    <meta itemprop="name" content="<%= bootstrap.product.title %>">
    <meta itemprop="description" content="<%= bootstrap.product.content %>">

    <!-- Twitter Card data -->
    <meta name="twitter:card" content="summary">
    <!-- <meta name="twitter:site" content="@publisher_handle"> -->
    <!-- <meta name="twitter:creator" content="@author_handle"> -->
    <meta name="twitter:title" content="<%= bootstrap.product.title %>">
    <meta name="twitter:description" content="<%= bootstrap.product.content %>">

    <!-- Open Graph data -->
    <meta property="og:title" content="<%= bootstrap.product.title %>" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="<%= bootstrap.url %>" />
    <meta property="og:description" content="<%= bootstrap.product.content %>" />
    <meta property="og:site_name" content="<%= bootstrap.site_name %>" />
    <meta property="og:price:amount" content="<%= parseInt(bootstrap.product.selling_price) / 100 %>" />
    <meta property="og:price:currency" content="USD" />
  <% } %>

  <% if (!!bootstrap.collection) { %>
    <!-- Schema.org markup for Google+ -->
    <meta itemprop="name" content="<%= bootstrap.collection %>">
    <!-- <meta itemprop="description" content="<%= bootstrap.content %>"> -->

    <!-- Twitter Card data -->
    <meta name="twitter:card" content="summary">
    <!-- <meta name="twitter:site" content="@publisher_handle"> -->
    <!-- <meta name="twitter:creator" content="@author_handle"> -->
    <meta name="twitter:title" content="<%= bootstrap.title %>">
    <!-- <meta name="twitter:description" content="<%= bootstrap.content %>"> -->

    <!-- Open Graph data -->
    <meta property="og:title" content="<%= bootstrap.title %>" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="<%= bootstrap.url %>" />
    <!-- <meta property="og:description" content="<%= bootstrap.content %>" /> -->
    <meta property="og:site_name" content="<%= bootstrap.site_name %>" />
  <% } %>

  <!-- Do not edit inside of build block; it is auto-generated -->
  <!-- build:css -->
  <link rel="stylesheet" href="ee-shared/stylesheets/ee.css">
  <!-- endbuild -->

  <%- bootstrap.code %>

  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', "<%= bootstrap.tracking %>", 'auto');
    ga('require', 'displayfeatures');
    ga('require', 'linkid', 'linkid.js');
  </script>

  <% if (!!bootstrap.id && bootstrap.id == 49 && !!bootstrap.url && bootstrap.url.indexOf('localhost') < 0) { %>
    <!-- Facebook Pixel Code -->
    <script>
    !function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?
    n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;
    n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;
    t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,
    document,'script','//connect.facebook.net/en_US/fbevents.js');

    fbq('init', '210341129307539');
    fbq('track', "PageView");</script>
    <noscript>
      <img height="1" width="1" style="display:none" src="https://www.facebook.com/tr?id=210341129307539&ev=PageView&noscript=1"/>
    </noscript>
    <!-- End Facebook Pixel Code -->

    <!-- Heap code -->
    <script>
      window.heap=window.heap||[],heap.load=function(e,t){window.heap.appid=e,window.heap.config=t=t||{};var r=t.forceSSL||"https:"===document.location.protocol,a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src=(r?"https:":"http:")+"//cdn.heapanalytics.com/js/heap-"+e+".js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(a,n);for(var o=function(e){return function(){heap.push([e].concat(Array.prototype.slice.call(arguments,0)))}},p=["addEventProperties","addUserProperties","clearEventProperties","identify","removeEventProperty","setEventProperties","track","unsetEventProperty"],c=0;c<p.length;c++)heap[p[c]]=o(p[c])};
        heap.load("2229609858");
    </script>
    <!-- End Heap code -->

  <% } %>

  <% if (!!bootstrap.id && bootstrap.id == 49) { %>
    <!-- Facebook signup code -->
    <div id="fb-root"></div>
    <script>
      (function(d, s, id) {
        var js, fjs = d.getElementsByTagName(s)[0];
        if (d.getElementById(id)) return;
        js = d.createElement(s); js.id = id;
        js.src = "https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.6&appId=459463727501772";
        fjs.parentNode.insertBefore(js, fjs);
      }(document, 'script', 'facebook-jssdk'));
    </script>
    <!-- End Facebook signup code -->

    <!-- Pinterest signup code -->
    <script type="text/javascript" async defer src="https://assets.pinterest.com/js/pinit.js"></script>
    <!-- End Pinterest signup code -->
  <% } %>

</head>

<body id="body-top" ng-mouseleave="mouseleave()">
  <% if (!!bootstrap.storefront_meta && !!bootstrap.storefront_meta.brand && !!bootstrap.storefront_meta.brand.color) { %>
    <style>
      .dropdown-menu > .active > a, .dropdown-menu > .active > a:hover, .dropdown-menu > .active > a:focus {
        background-color: <%= bootstrap.storefront_meta.brand.color.secondary %>;
        color: <%= bootstrap.storefront_meta.brand.color.tertiary %>;
      }
      .navbar.ee-store-subnav {
        background-color: <%= bootstrap.storefront_meta.brand.color.secondary %>;
        border-bottom: 2px solid <%= bootstrap.storefront_meta.brand.color.secondaryAccent %>;
      }
      .navbar.ee-store-subnav .nav > li > a {
        color: <%= bootstrap.storefront_meta.brand.color.tertiary %>;
        text-shadow: 1px 1px <%= bootstrap.storefront_meta.brand.color.secondaryAccent %>;
      }
      .ee-store-subnav .store-subnav-btn:hover,
      .ee-store-subnav .store-subnav-btn:focus,
      .ee-store-subnav .store-subnav-btn.active {
        background: <%= bootstrap.storefront_meta.brand.color.secondaryAccent %> !important;
      }
      .ee-scroll-to-top { background-color: <%= bootstrap.storefront_meta.brand.color.secondary %>; }
      .ee-scroll-to-top i { color: <%= bootstrap.storefront_meta.brand.color.tertiary %>; }
      .btn-themed,
      .bg-themed {
        background-color: <%= bootstrap.storefront_meta.brand.color.secondary %>;
        color: <%= bootstrap.storefront_meta.brand.color.tertiary %>;
        border-color: <%= bootstrap.storefront_meta.brand.color.secondaryAccent %> !important;
        border-bottom: 2px solid <%= bootstrap.storefront_meta.brand.color.secondaryAccent %> !important;

      }
      .btn-themed { text-shadow: 1px 1px <%= bootstrap.storefront_meta.brand.color.secondaryAccent %>; }
      .btn-themed:hover,
      .btn-themed:focus,
      .btn-themed:active {
        color: <%= bootstrap.storefront_meta.brand.color.tertiary %> !important;
        background: <%= bootstrap.storefront_meta.brand.color.secondaryAccent %> !important;
      }
      .btn-themed.btn-lg { font-weight: bold; }
      .btn-themed.btn-arrow {
        border: none !important;
      }
      .btn-themed.btn-arrow:after { border-color: <%= bootstrap.storefront_meta.brand.color.secondary %> transparent; }
      .btn-themed.btn-arrow:hover,
      .btn-themed.btn-arrow:hover:after { border-color: <%= bootstrap.storefront_meta.brand.color.secondaryAccent %> transparent !important; }
    </style>
  <% } %>

  <% if (!!bootstrap.h1) { %>
    <h1 class="position-fixed overflow-hidden height-0" style="top: -5000px;"><%= bootstrap.h1 %></h1>
  <% } %>

  <div ui-view="header" id="ee-header" class="position-fixed" style="top: 0; z-index: 2000;"></div>
  <div ui-view="top"    id="ee-top-view" class="position-relative"></div>
  <div ui-view="middle" id="ee-middle-view" class="position-relative"></div>
  <div ui-view="bottom" id="ee-bottom-view" class="position-relative"></div>
  <div ui-view="footer" id="ee-footer" class="position-relative"></div>

  <!-- Do not edit inside of build block; it is auto-generated -->
  <!-- build:js -->
  <script src="bower_components/jquery/dist/jquery.js"></script>
  <script src="bower_components/angular/angular.js"></script>
  <script src="bower_components/angular-ui-router/release/angular-ui-router.js"></script>
  <script src="bower_components/angular-cookies/angular-cookies.js"></script>
  <script src="bower_components/angular-animate/angular-animate.js"></script>
  <script src="bower_components/angular-bootstrap/ui-bootstrap.js"></script>
  <script src="bower_components/angular-bootstrap/ui-bootstrap-tpls.js"></script>
  <script src="bower_components/angulartics/src/angulartics.js"></script>
  <script src="bower_components/angulartics-google-analytics/src/angulartics-google-analytics.js"></script>
  <script src="bower_components/zoom.js/dist/zoom.js"></script>
  <script src="bower_components/keen-js/dist/keen.js"></script>
  <script src="bower_components/bootstrap/js/transition.js"></script>
  <script src="js/ee-shared/core/core.module.js"></script>
  <script src="js/ee-shared/core/constants.js"></script>
  <script src="js/ee-shared/core/filters.js"></script>
  <script src="js/ee-shared/core/config.js"></script>
  <script src="js/ee-shared/core/run.js"></script>
  <script src="js/ee-shared/core/svc.modal.js"></script>
  <script src="js/store/store.index.js"></script>
  <script src="js/store/core/core.module.js"></script>
  <script src="js/store/core/run.js"></script>
  <script src="js/store/core/store.config.js"></script>
  <script src="js/store/core/core.route.js"></script>
  <script src="js/store/core/svc.back.js"></script>
  <script src="js/store/core/svc.user.js"></script>
  <script src="js/store/core/svc.product.js"></script>
  <script src="js/store/core/svc.products.js"></script>
  <script src="js/store/core/svc.collection.js"></script>
  <script src="js/store/core/svc.collections.js"></script>
  <script src="js/store/core/svc.definer.js"></script>
  <script src="js/store/core/svc.cart.js"></script>
  <script src="js/store/store.controller.js"></script>
  <script src="js/store/home/home.module.js"></script>
  <script src="js/store/home/home.route.js"></script>
  <script src="js/store/home/home.controller.js"></script>
  <script src="js/store/collections/collections.module.js"></script>
  <script src="js/store/collections/collections.route.js"></script>
  <script src="js/store/categories/categories.module.js"></script>
  <script src="js/store/categories/categories.route.js"></script>
  <script src="js/store/product/product.module.js"></script>
  <script src="js/store/product/product.route.js"></script>
  <script src="js/store/product/product.controller.js"></script>
  <script src="js/store/cart/cart.module.js"></script>
  <script src="js/store/cart/cart.route.js"></script>
  <script src="js/store/cart/cart.controller.js"></script>
  <script src="js/store/help/help.module.js"></script>
  <script src="js/store/help/help.route.js"></script>
  <script src="js/store/help/help.controller.js"></script>
  <script src="js/store/search/search.module.js"></script>
  <script src="js/store/search/search.route.js"></script>
  <script src="js/store/search/search.controller.js"></script>
  <script src="js/store/modal/modal.controller.js"></script>
  <script src="js/ee-shared/components/ee-button-add-to-cart.js"></script>
  <script src="js/ee-shared/components/ee-product-for-store.js"></script>
  <script src="js/ee-shared/components/ee-product-card.js"></script>
  <script src="js/ee-shared/components/ee-collection-nav.js"></script>
  <script src="js/ee-shared/components/ee-collection-for-store.js"></script>
  <script src="js/ee-shared/components/ee-storefront-announcement.js"></script>
  <script src="js/ee-shared/components/ee-storefront-header.js"></script>
  <script src="js/ee-shared/components/ee-storefront-scroller.js"></script>
  <script src="js/ee-shared/components/ee-storefront-logo.js"></script>
  <script src="js/ee-shared/components/ee-storefront-brand.js"></script>
  <script src="js/ee-shared/components/ee-search-sort.js"></script>
  <script src="js/ee-shared/components/ee-scroll-to-top.js"></script>
  <script src="js/ee-shared/components/ee-scroll-show.js"></script>
  <script src="js/ee-shared/components/ee-product-images.js"></script>
  <script src="js/ee-shared/components/ee-empty-message.js"></script>
  <script src="js/ee-shared/components/ee-loading.js"></script>
  <script src="js/ee-shared/components/ee-signup.js"></script>
  <!-- endbuild -->

</body>

<script>
  angular.module("app.core").constant("eeBootstrap", <%- bootstrap.stringified %>);
</script>

</html>
